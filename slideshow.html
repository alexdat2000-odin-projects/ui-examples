<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Slideshow</title>
    <script defer>
      let current_pic = 0;

      function changeImg(i) {
        current_pic = i;
        updateShow();
      }

      function updateShow() {
        const picDiv = document.querySelector("#pic");
        const controlsDiv = document.querySelector("#controls");

        const pic = document.createElement("img");
        pic.setAttribute("src", `images/${current_pic}.jpg`);
        pic.setAttribute("height", "300");

        picDiv.innerHTML = "";
        picDiv.appendChild(pic);

        const controls = document.createElement("div");
        const prevButton = document.createElement("button");
        prevButton.textContent = "Prev";
        prevButton.addEventListener("click", () => {
          changeImg(current_pic === 1 ? 5 : current_pic - 1);
        });
        controls.appendChild(prevButton);

        for (let i = 1; i <= 5; i++) {
          const button = document.createElement("button");
          button.textContent = `${i}`;
          button.addEventListener("click", () => {
            changeImg(i);
          });
          controls.appendChild(button);
        }

        const nextButton = document.createElement("button");
        nextButton.textContent = "Next";
        nextButton.addEventListener("click", () => {
          changeImg(current_pic % 5 + 1);
        });
        controls.appendChild(nextButton);

        controlsDiv.innerHTML = "";
        controlsDiv.appendChild(controls);
      }

      function increaser() {
        current_pic = current_pic % 5 + 1;
        updateShow();
        setTimeout(increaser, 5000);
      }

      document.addEventListener("DOMContentLoaded", increaser);
    </script>
  </head>

  <body>
    <div id="pic"></div>
    <div id="controls">

    </div>
  </body>
</html>
